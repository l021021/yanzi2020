var GeoJSON = require('geojson')
var FS = require('fs')

/*
"features": [{
        "type": "Feature",
        "id": "5b3eb346-e2ee-4cf4-a5e5-a0cbdc2030ef",
        "geometry": {
            "type": "Polygon",
            "coordinates": [
                [
                    [17.947451327758234, 59.40185741053596],
                    [17.947451327758234, 59.40186602537953],
                    [17.947420867314896, 59.40186602537953],
                    [17.947420867314896, 59.40185741053596],
                    [17.947451327758234, 59.40185741053596]
                ]
            ]
        },
        "properties": { "type": "area.room", "name": "061", "grossarea": 2, "netarea": 1.7 }
    },

    */

var singleobject = [{
    type: "area.room",
    name: "061",
    grossarea: 2,
    netarea: 1.7,

    category: 'Store',
    id: "CB3CCC45-4B59-4527-AFFE-7CB6DDD69D44",
    street: 'Market',
    polygon: [
        [
            121.502643870189,
            31.267705747907
        ],
        [
            121.502650994807,
            31.267705747907
        ],
        [
            121.502650994807,
            31.267702639639
        ],
        [
            121.502643870189,
            31.267702639639
        ],
        [
            121.502643870189,
            31.267705747907
        ]
    ]
}, {
    type: "area.room",
    name: "062",
    grossarea: 2,
    netarea: 1.7,
    category: 'Store',
    id: "20395E4D-6497-4D22-B683-2F7D9E2B2807",
    street: 'Market',
    polygon: [
        [
            121.502655269577,
            31.267699531372
        ],
        [
            121.502656694501,
            31.267699531372
        ],
        [
            121.502656694501,
            31.267698495283
        ],
        [
            121.502655269577,
            31.267698495283
        ],
        [
            121.502655269577,
            31.267699531372
        ]
    ]
}]



var data = [
    { name: 'Location A', category: 'Store', street: 'Market', lat: 39.984, lng: -75.343, id: "5b3eb346-e2ee-4cf4-a5e5-a0cbdc2030ef" },
    { name: 'Location B', category: 'House', street: 'Broad', lat: 39.284, lng: -75.833, id: "5b3eb346-e2ee-4cf4-a5e5-a0cbdc2030ef" },
    { name: 'Location C', category: 'Office', street: 'South', lat: 39.123, lng: -74.534, id: "5b3eb346-e2ee-4cf4-a5e5-a0cbdc2030ef" }
];
var data2 = [{
        x: 0.5,
        y: 102.0,
        prop0: 'value0'
    },
    {
        line: [
            [102.0, 0.0],
            [103.0, 1.0],
            [104.0, 0.0],
            [105.0, 1.0]
        ],
        prop0: 'value0',
        prop1: 0.0
    },
    {
        polygon: [
            [
                [100.0, 0.0],
                [101.0, 0.0],
                [101.0, 1.0],
                [100.0, 1.0],
                [100.0, 0.0]
            ]
        ],
        prop0: 'value0',
        prop1: { "this": "that" }
    }
];
var myjson = GeoJSON.parse(data2, { Point: ['lat', 'lng'] });
var myjson1 = GeoJSON.parse(data2, { 'Point': ['x', 'y'], 'LineString': 'line', 'Polygon': 'polygon' });

var myjson3 = GeoJSON.parse(singleobject, { 'Point': ['x', 'y'], 'LineString': 'line', 'Polygon': 'polygon' });
console.log(JSON.stringify(myjson) + '\n')
console.log(JSON.stringify(myjson1) + '\n')
console.log(JSON.stringify(myjson3) + '\n')